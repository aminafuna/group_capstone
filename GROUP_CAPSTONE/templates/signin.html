<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Enchanted Petal - Login & Sign Up</title>
  <link rel="stylesheet" href="static/css/signin.css">
  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Open+Sans&display=swap" rel="stylesheet">
</head>
<body>
  <header>
    <h1>Enchanted Petal</h1>
    <p>Your one-stop flower shop for every occasion</p>
  </header>
  <div class="container">
    <div class="form-container">
      {% with messages = get_flashed_messages(with_categories=true) %}
          {% if messages %}
              {% for category, message in messages %}
                  <center>
                    <div class="alert alert-{{ category }} flash-message">
                      <h2>{{ message }}</h2>
                  </div>
                  </center>
                  
              {% endfor %}
          {% endif %}
        {% endwith %}
      <div class="form-toggle">
        <button id="login-toggle" class="active">Login</button>
        <button id="signup-toggle">Sign Up</button>
        <a href="/"><button>Home</button></a>
      </div>
      
      <form id="login-form" action="/LOGIN" method="post">
        <h2>Login</h2>
        <input type="email" name="Email" placeholder="Email" required>
        <input type="password" name="Password" placeholder="Password" required>
        <button type="submit">Login</button>
      </form>
      
      <form id="signup-form" action="/SIGNIN" method="post" style="display:none;">
        <h2>Sign Up</h2>
        <input type="text" name="First_Name" placeholder="First Name" required>
        <input type="text" name="Last_Name" placeholder="Last Name" required>
        <input type="text" name="UserName" placeholder="Username" required>
        <input type="email" name="Email" placeholder="Email" required>
        <input type="password" name="Password" placeholder="Password" required>
        <select name="Gender" required>
          <option value="" disabled selected>Select Gender</option>
          <option value="Male">Male</option>
          <option value="Female">Female</option>
          <option value="Other">Other</option>
        </select>
        <input type="text" name="Phone_number" placeholder="Phone Number">
        <button type="submit">Sign Up</button>
      </form>
    </div>
  </div>
  
  <script>
    const loginToggle = document.getElementById('login-toggle');
    const signupToggle = document.getElementById('signup-toggle');
    const loginForm = document.getElementById('login-form');
    const signupForm = document.getElementById('signup-form');

    loginToggle.addEventListener('click', () => {
      loginForm.style.display = 'block';
      signupForm.style.display = 'none';
      loginToggle.classList.add('active');
      signupToggle.classList.remove('active');
    });

    signupToggle.addEventListener('click', () => {
      loginForm.style.display = 'none';
      signupForm.style.display = 'block';
      signupToggle.classList.add('active');
      loginToggle.classList.remove('active');
    });

    setTimeout(function() {
      let flashMessages = document.querySelectorAll(".flash-message");
      flashMessages.forEach(function(msg) {
          msg.style.transition = "opacity 0.5s";
          msg.style.opacity = "0";
          setTimeout(() => msg.remove(), 500);  
      });
  }, 3000);
  </script>
</body>
</html>
